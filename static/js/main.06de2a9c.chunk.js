(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,n){"use strict";var r=n(4),a=n(45),i=n(2);function c(e,t){return i.caml_int_compare(e[0],t[0])}t.str=function(e){return e},t.arr=function(e){return e},t.range=function e(t,n){return t>=n?0:[t,e(t+1|0,n)]},t.cartesian=function(e,t){return r.concat(r.map(function(e){return r.map(function(t){return[e,t]},t)},e))},t.compareFst=c,t.shuffle=function(e){var t=r.map(function(e){return[a.bits(0),e]},e),n=r.sort(c,t);return r.map(function(e){return e[1]},n)},t.take=function e(t,n){return 0!==t?[r.hd(n),e(t-1|0,r.tl(n))]:0}},30:function(e,t,n){e.exports=n(31)},31:function(e,t,n){"use strict";var r=n(32),a=n(58),i=n(9);n(67),a.renderToElementWithId(i.element(void 0,void 0,r.make("Minesweeper in ReasonML & React",[])),"root")},32:function(e,t,n){"use strict";var r=n(33),a=n(6),i=n(1),c=n(26),o=n(15),u=n(55),s=n(9);n(56);var l=s.reducerComponent("App");t.component=l,t.make=function(e,t){return[l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8],function(t){var n,a=t[3],l=t[1];if(void 0!==l){var f;switch(l){case 0:f=[9,9,10];break;case 1:f=[16,16,40];break;case 2:f=[30,16,99]}n=s.element(void 0,void 0,r.make(f[0],f[1],f[2],[]))}else n=o.createElement("div",{className:"difficulties__wrapper"},o.createElement("h3",void 0,c.str("Choose difficulty")),o.createElement("div",{className:"difficulties"},o.createElement("button",{className:"difficulty",title:"Easy",type:"button",onClick:function(e){return i._1(a,[0])}},c.str("\ud83d\ude0c")),o.createElement("button",{className:"difficulty",title:"Normal",type:"button",onClick:function(e){return i._1(a,[1])}},c.str("\ud83d\ude10")),o.createElement("button",{className:"difficulty",title:"Hard",type:"button",onClick:function(e){return i._1(a,[2])}},c.str("\ud83d\ude31"))));return o.createElement("div",{className:"app"},o.createElement("div",{className:"app__header"},o.createElement("a",{href:""},o.createElement("img",{className:"app__logo",alt:"logo",src:u})),o.createElement("h2",void 0,c.str(e)),o.createElement("p",{className:"app__credits"},c.str("by "),o.createElement("a",{href:"http://pewniak747.info",target:"_blank"},c.str("Tomasz Pewi\u0144ski")),c.str(" \xb7 "),o.createElement("a",{href:"https://github.com/pewniak747/minesweeper-reasonml",target:"_blank"},c.str("source")))),o.createElement("div",{className:"app__intro"},n))},function(e){},l[11],function(e,t){return a.__(0,[e[0]])},l[13]]}},33:function(e,t,n){"use strict";var r=n(34),a=n(42),i=n(43),c=n(4),o=n(25),u=n(6),s=n(1),l=n(26),f=n(15),m=n(12),_=n(9),d=n(54),v=n(2);var p=[function(e,t){var n=v.caml_int_compare(e[0],t[0]);return 0!==n?n:v.caml_int_compare(e[1],t[1])}],g=a.Make(p),b=i.Make(p),k=c.filter(function(e){return 0!==e[0]||0!==e[1]})(l.cartesian([-1,[0,[1,0]]],[-1,[0,[1,0]]]));function h(e,t){var n=t[1],r=t[0],a=e[1],i=e[0];return c.filter(function(e){var t=e[1],n=e[0];return n>=0&&n<i&&t>=0&&t<a})(c.map(function(e){return[r+e[0]|0,n+e[1]|0]},k))}function E(e,t){return c.length(c.filter(function(e){return 0===e[0]})(c.map(function(t){return s._2(g[21],t,e[2])},h(e,t))))}function w(e){var t=e[2],n=s._2(g[12],function(e,t){return!t[0]&&1===t[1]},t),r=s._2(g[12],function(e,t){return!!t[0]&&0===t[1]},t);return n?2:r?0:1}function N(e){return s._1(g[15],s._2(g[13],function(e,t){return 0===t[0]},e[2]))-s._1(g[15],s._2(g[13],function(e,t){return 2===t[1]},e[2]))|0}function y(e,t){return s._3(g[3],t[0],t[1],e)}function S(e,t,n,r){var a=void 0!==e?e:10,i=void 0!==t?t:8,o=void 0!==n?n:5,u=l.range(0,a),f=l.range(0,i),_=l.cartesian(u,f);c.length(_)<=o&&m.failwith("Too many mines for the board");var d=s._1(b[25],l.take(o,l.shuffle(_)));return[a,i,c.fold_left(y,g[0],c.map(function(e){return[e,[s._2(b[2],e,d)?0:1,0]]},_))]}function C(e,t,n){var r=E(e,t),a=s._2(g[21],t,e[2])[0],i=s._2(b[3],t,n);if(0===r&&a){return c.fold_left(function(t,n){return s._2(b[2],n,t)?t:C(e,n,t)},i,h(e,t))}return i}function F(e,t){return C(e,t,b[0])}function M(e,t){return s._2(g[23],function(e,n){return s._2(b[2],e,t)?[n[0],1]:n},e[2])}function T(e,t){switch(0|e.tag){case 0:return u.__(0,[e[0]]);case 1:var n=e[0];if(0===w(t)){if(1!==s._2(g[21],n,t[2])[1]){var r=F(t,n),a=M(t,r);return u.__(0,[[t[0],t[1],a]])}var i=h(t,n),o=c.partition(function(e){return s._2(g[21],e,t[2])[1]>=2},i),l=E(t,n);if(c.length(o[0])===l){var f=c.fold_left(b[6],b[0],c.map(function(e){return F(t,e)},o[1])),m=M(t,f);return u.__(0,[[t[0],t[1],m]])}return 0}return 0;case 2:var _=e[0];if(0===w(t)){var d,v=s._2(g[21],_,t[2]),p=v[0];switch(v[1]){case 0:d=[p,2];break;case 1:d=void 0;break;case 2:d=[p,0]}if(void 0!==d){var k=s._3(g[3],_,d,t[2]);return u.__(0,[[t[0],t[1],k]])}return 0}return 0}}8!==c.length(k)&&m.failwith("nighbourDiff should contain exactly 8 items");var D=_.statelessComponentWithRetainedProps("Field");function R(e,t,n,a,i,c){return[D[0],D[1],D[2],D[3],D[4],D[5],D[6],D[7],function(e){return e[0][2][0]!==e[1][2][0]},function(c){var o;switch(t[1]){case 0:o="";break;case 1:o=t[0]?String(e):"\ud83d\udca5";break;case 2:o="\ud83d\udea9"}var u=1!==t[1]?"":String("game__board-field")+"--revealed",m=t[0]&&1===t[1]?String("game__board-field")+"--"+String(e):"",v=t[0]||1!==t[1]?"":String("game__board-field")+"--exploded",p=r.make(["game__board-field",[u,[m,[v,0]]]]);return _.element(void 0,void 0,d.make(function(e){return s._1(a,n)},function(e){return s._1(i,n)},f.createElement("div",{className:p},f.createElement("button",{type:"button"},l.str(o)))))},D[10],[t],D[12],D[13]]}var x=[D,R],P=_.reducerComponent("Game");t.OrderedFields=p,t.FieldsMap=g,t.FieldsSet=b,t.neighbourDiff=k,t.fieldNeighboursSelector=h,t.adjacentMinesSelector=E,t.gameStatusSelector=w,t.remainingMinesSelector=N,t.add2=y,t.initializeState=S,t.accumulateFieldsToReveal=C,t.fieldsToReveal=F,t.revealFields=M,t.isPlaying=function(e){return 0===w(e)},t.reducer=T,t.Field=x,t.component=P,t.make=function(e,t,n,r){var a=n,i=t,m=e;return[P[0],P[1],P[2],P[3],P[4],P[5],P[6],P[7],P[8],function(e){var t,r=e[3],a=e[1],i=l.range(0,a[0]),m=l.range(0,a[1]),d=w(a),v=l.arr(o.of_list(c.map(function(e){return f.createElement("div",{key:String(e),className:"game__board-row"},l.arr(o.of_list(c.map(function(t){var n=[t,e],i=s._2(g[21],n,a[2]),c=1!==d||i[0]?i:[0,2],o=E(a,n);return _.element(String(t),void 0,R(o,c,n,function(e){return s._1(r,u.__(2,[e]))},function(e){return s._1(r,u.__(1,[e]))}))},i))))},m)));switch(d){case 0:t="\ud83d\ude42";break;case 1:t="\ud83d\ude0e";break;case 2:t="\ud83d\ude35"}var p=N(a);return f.createElement("section",{className:"game__wrapper"},f.createElement("div",{className:"game"},f.createElement("div",{className:"game__header"},f.createElement("div",{className:"game__remaining-mines"},l.str(String(p))),f.createElement("button",{className:"game__start-button",type:"button",onClick:function(e){return s._1(r,u.__(0,[S(a[0],a[1],n)]))}},l.str(t))),f.createElement("div",{className:"game__board"},v)),f.createElement("p",{className:"instructions"},l.str("double-click to reveal a field / click to mark a field")))},function(e){return S(m,i,a)},P[11],T,P[13]]}},54:function(e,t,n){"use strict";var r=n(1),a=n(15),i=n(9),c=n(5),o=i.reducerComponent("DoubleClick");t.component=o,t.thresholdMs=200,t.make=function(e,t,n){return[o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],function(i){var o=i[1];return a.createElement("div",{onClick:function(n){n.preventDefault();var a=Date.now(),i=o[0][0]+200>a;o[0][0]=a;var u=o[1][0];if(void 0!==u&&clearTimeout(c.valFromOption(u)),i)return r._1(t,n);n.persist();var s=setTimeout(function(t){return r._1(e,n)},200);return o[1][0]=c.some(s),0}},n)},function(e){return[[0],[void 0]]},o[11],function(e,t){return 0},o[13]]}},55:function(e,t,n){e.exports=n.p+"static/media/logo.e2342b05.svg"},56:function(e,t,n){},67:function(e,t,n){}},[[30,2,1]]]);
//# sourceMappingURL=main.06de2a9c.chunk.js.map